{"version":3,"sources":["../node_modules/react-loading-skeleton/dist/index.mjs","hooks/use-user.js","components/profile/header.js","components/profile/photos.js","components/profile/userprofile.js","pages/profile.js"],"names":["SkeletonThemeContext","React","createContext","Skeleton","_a","_b","count","Wrapper","wrapper","customClassName","className","containerClassName","containerTestId","circle","styleProp","style","propsStyleOptions","contextStyleOptions","useContext","styleOptions","baseColor","highlightColor","width","height","borderRadius","direction","duration","enableAnimation","styleOptionsToCssProperties","inline","elements","i","skeletonSpan","createElement","key","push","Fragment","map","el","useUser","useState","activeUser","setActiveUser","user","UserContext","auth","FirebaseContext","useEffect","a","getUserByUserId","uid","response","getUserObjByUserId","username","fullName","userId","Header","profile","photosCount","followerCount","setFollowerCount","followingCount","firebase","db","activeUsername","isFollowingProfile","setIsFollowingProfile","myProfile","setMyProfile","handleToggleFollow","toggleFollow","docId","isLoggedUserFollowingProfile","isUserFollowingProfile","isFollowing","viewBox","fill","d","onClick","Photos","photos","length","photo","src","imageSrc","xmlns","stroke","tabIndex","strokeLinecap","strokeLinejoin","strokeWidth","likes","role","comments","UserProfile","useReducer","state","newState","photosCollection","dispatch","getUserPhotosByUsername","followers","following","getProfileInfoAndPhotos","Profile","setInHome","setInProfile","inProfile","navigate","useNavigate","useParams","userExists","setUserExists","setUser","getUserByUsername","getUser","document","title","ROUTES","checkUserExist","NavBar"],"mappings":"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","file":"static/js/4.7da7636f.chunk.js","sourcesContent":["import React from 'react';\n\n/**\n * @internal\n */\nconst SkeletonThemeContext = React.createContext({});\n\nfunction SkeletonTheme({ children, ...styleOptions }) {\n    return (React.createElement(SkeletonThemeContext.Provider, { value: styleOptions }, children));\n}\n\n/* eslint-disable react/no-array-index-key */\nconst defaultEnableAnimation = true;\n// For performance & cleanliness, don't add any inline styles unless we have to\nfunction styleOptionsToCssProperties({ baseColor, highlightColor, width, height, borderRadius, circle, direction, duration, enableAnimation = defaultEnableAnimation, }) {\n    const style = {};\n    if (direction === 'rtl')\n        style['--animation-direction'] = 'reverse';\n    if (typeof duration === 'number')\n        style['--animation-duration'] = `${duration}s`;\n    if (!enableAnimation)\n        style['--pseudo-element-display'] = 'none';\n    if (typeof width === 'string' || typeof width === 'number')\n        style.width = width;\n    if (typeof height === 'string' || typeof height === 'number')\n        style.height = height;\n    if (typeof borderRadius === 'string' || typeof borderRadius === 'number')\n        style.borderRadius = borderRadius;\n    if (circle)\n        style.borderRadius = '50%';\n    if (typeof baseColor !== 'undefined')\n        style['--base-color'] = baseColor;\n    if (typeof highlightColor !== 'undefined')\n        style['--highlight-color'] = highlightColor;\n    return style;\n}\nfunction Skeleton({ count = 1, wrapper: Wrapper, className: customClassName, containerClassName, containerTestId, circle = false, style: styleProp, ...propsStyleOptions }) {\n    var _a, _b;\n    const contextStyleOptions = React.useContext(SkeletonThemeContext);\n    // Props take priority over context\n    const styleOptions = {\n        ...contextStyleOptions,\n        ...propsStyleOptions,\n        circle,\n    };\n    // `styleProp` has the least priority out of everything\n    const style = {\n        ...styleProp,\n        ...styleOptionsToCssProperties(styleOptions),\n    };\n    let className = 'react-loading-skeleton';\n    if (customClassName)\n        className += ` ${customClassName}`;\n    const inline = (_a = styleOptions.inline) !== null && _a !== void 0 ? _a : false;\n    const elements = [];\n    // Without the <br />, the skeleton lines will all run together if\n    // `width` is specified\n    for (let i = 0; i < count; i++) {\n        const skeletonSpan = (React.createElement(\"span\", { className: className, style: style, key: i }, \"\\u200C\"));\n        if (inline) {\n            elements.push(skeletonSpan);\n        }\n        else {\n            elements.push(React.createElement(React.Fragment, { key: i },\n                skeletonSpan,\n                React.createElement(\"br\", null)));\n        }\n    }\n    return (React.createElement(\"span\", { className: containerClassName, \"data-testid\": containerTestId, \"aria-live\": \"polite\", \"aria-busy\": (_b = styleOptions.enableAnimation) !== null && _b !== void 0 ? _b : defaultEnableAnimation }, Wrapper\n        ? elements.map((el, i) => React.createElement(Wrapper, { key: i }, el))\n        : elements));\n}\n\nexport { SkeletonTheme, Skeleton as default };\n","import { useEffect, useState, useContext } from \"react\";\r\nimport FirebaseContext from \"../context/firebase\";\r\nimport UserContext from \"../context/user\";\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport { getUserByUserId } from \"../services/firebase\";\r\n\r\n\r\nexport default function useUser() {\r\n    const [activeUser, setActiveUser] = useState({});\r\n    const { user } = useContext(UserContext);\r\n    const {auth} = useContext(FirebaseContext);\r\n\r\n    useEffect(() => {\r\n        async function getUserObjByUserId() {\r\n            const response = await getUserByUserId(user.uid);\r\n\r\n            setActiveUser(response);\r\n        }\r\n\r\n        if (user?.uid) {\r\n            getUserObjByUserId();\r\n        }\r\n        else{\r\n            setActiveUser({username:'You dont log in',fullName:'', userId:'',})\r\n        }\r\n\r\n        return () => {};\r\n    }, [user,auth])\r\n\r\n    return { user: activeUser };\r\n}\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../../context/user\";\r\nimport FirebaseContext from \"../../context/firebase\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport \"react-loading-skeleton/dist/skeleton.css\";\r\nimport { isUserFollowingProfile, toggleFollow } from \"../../services/firebase\";\r\nimport useUser from \"../../hooks/use-user\";\r\n\r\nexport default function Header({\r\n    profile,\r\n    photosCount,\r\n    followerCount,\r\n    setFollowerCount,\r\n    followingCount,\r\n}) {\r\n    const { firebase, db, auth } = useContext(FirebaseContext);\r\n    const {user}= useUser();\r\n    const {  activeUsername } = useContext(UserContext);\r\n    const [isFollowingProfile, setIsFollowingProfile] = useState(false);\r\n    const [myProfile, setMyProfile] = useState(true);\r\n\r\n    const handleToggleFollow = async () => {\r\n        setIsFollowingProfile((isFollowingProfile) => !isFollowingProfile);\r\n        setFollowerCount({\r\n            followerCount: isFollowingProfile\r\n                ? followerCount - 1\r\n                : followerCount + 1,\r\n        });\r\n\r\n        // console.log(\r\n        //     isFollowingProfile,\r\n        //     user.docId,\r\n        //     profile.docId,\r\n        //     profile.userId,\r\n        //     user.userId\r\n        // );\r\n        \r\n        await toggleFollow(\r\n            isFollowingProfile,\r\n            user.docId,\r\n            profile.docId,\r\n            profile.userId,\r\n            user.userId,\r\n        );\r\n    };\r\n\r\n    useEffect(() => {\r\n        setMyProfile(profile.username == activeUsername);\r\n\r\n        const isLoggedUserFollowingProfile = async () => {\r\n            const isFollowing = await isUserFollowingProfile(\r\n                activeUsername,\r\n                profile.userId\r\n            );\r\n            setIsFollowingProfile(isFollowing);\r\n        };\r\n\r\n        if (activeUsername && profile.userId) {\r\n            isLoggedUserFollowingProfile();\r\n        }\r\n\r\n        return () => {};\r\n    }, [user.username, profile.userId]);\r\n\r\n    return profile ? (\r\n        <div className=\"profile-header-container\">\r\n            <svg\r\n                className=\"profile-header-icon\"\r\n                width=\"150\"\r\n                height=\"150\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n            >\r\n                <path\r\n                    fill-rule=\"evenodd\"\r\n                    clip-rule=\"evenodd\"\r\n                    d=\"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z\"\r\n                    fill=\"currentColor\"\r\n                />\r\n                <path\r\n                    fill-rule=\"evenodd\"\r\n                    clip-rule=\"evenodd\"\r\n                    d=\"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z\"\r\n                    fill=\"currentColor\"\r\n                />\r\n            </svg>\r\n\r\n            <div className=\"header-info\">\r\n                <div className=\"row\">\r\n                    {profile.username ? (\r\n                        <div className=\"header-username\">\r\n                            {profile.username}\r\n                        </div>\r\n                    ) : (\r\n                        <Skeleton count={1} width={80} height={30} />\r\n                    )}\r\n\r\n                    {profile.username ? (\r\n                        !myProfile ? (\r\n                            <button\r\n                                onClick={handleToggleFollow}\r\n                                className={` ${\r\n                                    isFollowingProfile\r\n                                        ? \"profile-follow profile-unfollow\"\r\n                                        : \"profile-follow\"\r\n                                } `}\r\n                            >\r\n                                {isFollowingProfile ? \"Unfollow\" : \"Follow\"}\r\n                            </button>\r\n                        ) : null\r\n                    ) : (\r\n                        <Skeleton\r\n                            className=\"profile-skeleton\"\r\n                            count={1}\r\n                            width={90}\r\n                            height={30}\r\n                        />\r\n                    )}\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"header-photos\">\r\n                        {photosCount} {photosCount == 1 ? \"post\" : \"posts\"}\r\n                    </div>\r\n                    <div className=\"header-folowers info\">\r\n                        {followerCount}{\" \"}\r\n                        {followerCount == 1 ? \"follower\" : \"followers\"}\r\n                    </div>\r\n                    <div className=\"header-following info\">\r\n                        {followingCount}{\" \"}\r\n                        {followingCount == 1 ? \"following\" : \"followings\"}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"profile-header-fullname\">\r\n                    {profile.fullName ? (\r\n                        profile.fullName\r\n                    ) : (\r\n                        <Skeleton count={1} width={100} />\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) : (\r\n        <Skeleton count={1} width={635} height={120} />\r\n    );\r\n}\r\n","import Skeleton from \"react-loading-skeleton\";\r\nimport \"react-loading-skeleton/dist/skeleton.css\";\r\n\r\nexport default function Photos({ photos }) {\r\n    return (\r\n        <div className=\"profile-photos-container\">\r\n            {!photos ? (\r\n                <Skeleton count={1} width={935} height={400} />\r\n            ) : photos.length > 0 ? (\r\n                photos.map((photo) => (\r\n                    <div key={photo.docId} className=\"profile-photo-container\">\r\n                        <img src={photo.imageSrc} />\r\n                        <p className=\"profile-photo-detail\">\r\n                            <svg\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                fill=\"none\"\r\n                                viewBox=\"0 0 24 24\"\r\n                                className=\"profile-actions\"\r\n                                width=\"24\"\r\n                                height=\"24\"\r\n                                stroke=\"currentColor\"\r\n                                tabIndex={0}\r\n                            >\r\n                                <path\r\n                                    strokeLinecap=\"round\"\r\n                                    strokeLinejoin=\"round\"\r\n                                    strokeWidth={2}\r\n                                    d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n                                />\r\n                            </svg>\r\n                            {photo.likes.length}\r\n                            <svg\r\n                                aria-label=\"\"\r\n                                className=\"profile-actions\"\r\n                                role=\"img\"\r\n                                viewBox=\"0 0 24 24\"\r\n                                width=\"24\"\r\n                                height=\"24\"\r\n                            >\r\n                                <path\r\n                                    d=\"M20.656 17.008a9.993 9.993 0 10-3.59 3.615L22 22z\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    stroke-linejoin=\"round\"\r\n                                    stroke-width=\"2\"\r\n                                ></path>\r\n                            </svg>\r\n                            {photo.comments.length}\r\n                        </p>\r\n                    </div>\r\n                ))\r\n            ) : (\r\n                <div className=\"no-photos\">No posts yet</div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import Header from \"./header\";\r\nimport { useState, useEffect, useReducer } from \"react\";\r\nimport { collection } from \"firebase/firestore\";\r\nimport {\r\n    getUserByUsername,\r\n    getUserPhotosByUsername,\r\n} from \"../../services/firebase\";\r\nimport Photos from \"./photos\";\r\n\r\nexport default function UserProfile({ user }) {\r\n    const reducer = (state, newState) => ({ ...state, ...newState });\r\n    const initialState = {\r\n        profile: {},\r\n        photosCollection: [],\r\n        followerCount: 0,\r\n        followingCount: 0,\r\n    };\r\n\r\n    const [\r\n        { profile, photosCollection, followerCount, followingCount },\r\n        dispatch,\r\n    ] = useReducer(reducer, initialState);\r\n\r\n    useEffect(() => {\r\n        async function getProfileInfoAndPhotos() {\r\n            //const getuser = await getUserByUsername(user.username);\r\n            const photos = await getUserPhotosByUsername(user.username);\r\n            // console.log(getuser);\r\n            //console.log(\"photo\", photos);\r\n            dispatch({\r\n                profile: user,\r\n                photosCollection: photos,\r\n                followerCount: user.followers.length,\r\n                followingCount: user.following.length,\r\n            });\r\n        }\r\n\r\n        getProfileInfoAndPhotos();\r\n\r\n        return () => {};\r\n    }, [user]);\r\n\r\n    //console.log(profile,photosCollection.length);\r\n\r\n    return (\r\n        <div className=\"profile-content-container\">\r\n            <Header\r\n                profile={profile}\r\n                photosCount={photosCollection.length}\r\n                followerCount={followerCount}\r\n                setFollowerCount={dispatch}\r\n                followingCount={followingCount}\r\n            />\r\n            <Photos photos={photosCollection} />\r\n        </div>\r\n    );\r\n}\r\n","import { useParams, useNavigate } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getUserByUsername } from \"../services/firebase\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport NavBar from \"../components/NavBar\";\r\nimport UserProfile from \"../components/profile/userprofile\";\r\nimport '../styles/profile.css'\r\n\r\nexport default function Profile({ setInHome, setInProfile, inProfile }) {\r\n    const navigate = useNavigate();\r\n    const { username } = useParams();\r\n    \r\n    // console.log(username);\r\n    const [userExists, setUserExists] = useState(false);\r\n    const [user, setUser] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setInProfile(true);\r\n        setInHome(false);\r\n        return () => {};\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        async function checkUserExist() {\r\n            const getUser = await getUserByUsername(username);\r\n\r\n            if (getUser) {\r\n                setUser(getUser);\r\n                document.title =`${getUser.fullName}(@${getUser.username})` ;\r\n                setUserExists(true);\r\n            } else {\r\n                setUserExists(false);\r\n                navigate(ROUTES.NOT_FOUND);\r\n            }\r\n        }\r\n\r\n        checkUserExist();\r\n        \r\n    }, [username, navigate]);\r\n\r\n    return userExists ? (\r\n        <div className=\"profile-container\">\r\n            <NavBar inProfile={inProfile} />\r\n            <UserProfile  user={user}/>\r\n        </div>\r\n    ) : null;\r\n}\r\n"],"sourceRoot":""}