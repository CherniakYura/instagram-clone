{"version":3,"sources":["../node_modules/react-loading-skeleton/dist/index.mjs","components/profile/uploadProfileIcon.js","components/profile/header.js","components/profile/photos.js","components/profile/userprofile.js","pages/profile.js"],"names":["SkeletonThemeContext","React","createContext","Skeleton","_a","_b","count","Wrapper","wrapper","customClassName","className","containerClassName","containerTestId","circle","styleProp","style","propsStyleOptions","contextStyleOptions","useContext","styleOptions","baseColor","highlightColor","width","height","borderRadius","direction","duration","enableAnimation","styleOptionsToCssProperties","inline","elements","i","skeletonSpan","createElement","key","push","Fragment","map","el","UploadProfileIcon","setActiveUploadProfileIcon","user","useState","fileToUpload","setFileToUpload","uploading","setUploading","console","log","onOutsideClick","onSubmit","e","a","preventDefault","uploadProfileIcon","docId","for","onChange","target","files","id","accept","type","required","src","URL","createObjectURL","color","disabled","value","class","fill","role","viewBox","points","stroke","x1","x2","y1","y2","Header","profile","photosCount","followerCount","setFollowerCount","followingCount","FirebaseContext","firebase","db","auth","useUser","activeUsername","UserContext","isFollowingProfile","setIsFollowingProfile","myProfile","setMyProfile","activeUploadProfileIcon","handleToggleFollow","toggleFollow","userId","useEffect","username","isLoggedUserFollowingProfile","isUserFollowingProfile","isFollowing","profileIconSrc","d","onClick","fullName","Photos","photos","length","photo","imageSrc","xmlns","tabIndex","strokeLinecap","strokeLinejoin","strokeWidth","likes","comments","UserProfile","useReducer","state","newState","photosCollection","dispatch","getUserPhotosByUsername","followers","following","getProfileInfoAndPhotos","Profile","setInHome","setInProfile","inProfile","navigate","useNavigate","useParams","userExists","setUserExists","setUser","getUserByUsername","getUser","document","title","ROUTES","checkUserExist","NavBar"],"mappings":"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","file":"static/js/4.d2e3c63a.chunk.js","sourcesContent":["import React from 'react';\n\n/**\n * @internal\n */\nconst SkeletonThemeContext = React.createContext({});\n\nfunction SkeletonTheme({ children, ...styleOptions }) {\n    return (React.createElement(SkeletonThemeContext.Provider, { value: styleOptions }, children));\n}\n\n/* eslint-disable react/no-array-index-key */\nconst defaultEnableAnimation = true;\n// For performance & cleanliness, don't add any inline styles unless we have to\nfunction styleOptionsToCssProperties({ baseColor, highlightColor, width, height, borderRadius, circle, direction, duration, enableAnimation = defaultEnableAnimation, }) {\n    const style = {};\n    if (direction === 'rtl')\n        style['--animation-direction'] = 'reverse';\n    if (typeof duration === 'number')\n        style['--animation-duration'] = `${duration}s`;\n    if (!enableAnimation)\n        style['--pseudo-element-display'] = 'none';\n    if (typeof width === 'string' || typeof width === 'number')\n        style.width = width;\n    if (typeof height === 'string' || typeof height === 'number')\n        style.height = height;\n    if (typeof borderRadius === 'string' || typeof borderRadius === 'number')\n        style.borderRadius = borderRadius;\n    if (circle)\n        style.borderRadius = '50%';\n    if (typeof baseColor !== 'undefined')\n        style['--base-color'] = baseColor;\n    if (typeof highlightColor !== 'undefined')\n        style['--highlight-color'] = highlightColor;\n    return style;\n}\nfunction Skeleton({ count = 1, wrapper: Wrapper, className: customClassName, containerClassName, containerTestId, circle = false, style: styleProp, ...propsStyleOptions }) {\n    var _a, _b;\n    const contextStyleOptions = React.useContext(SkeletonThemeContext);\n    // Props take priority over context\n    const styleOptions = {\n        ...contextStyleOptions,\n        ...propsStyleOptions,\n        circle,\n    };\n    // `styleProp` has the least priority out of everything\n    const style = {\n        ...styleProp,\n        ...styleOptionsToCssProperties(styleOptions),\n    };\n    let className = 'react-loading-skeleton';\n    if (customClassName)\n        className += ` ${customClassName}`;\n    const inline = (_a = styleOptions.inline) !== null && _a !== void 0 ? _a : false;\n    const elements = [];\n    // Without the <br />, the skeleton lines will all run together if\n    // `width` is specified\n    for (let i = 0; i < count; i++) {\n        const skeletonSpan = (React.createElement(\"span\", { className: className, style: style, key: i }, \"\\u200C\"));\n        if (inline) {\n            elements.push(skeletonSpan);\n        }\n        else {\n            elements.push(React.createElement(React.Fragment, { key: i },\n                skeletonSpan,\n                React.createElement(\"br\", null)));\n        }\n    }\n    return (React.createElement(\"span\", { className: containerClassName, \"data-testid\": containerTestId, \"aria-live\": \"polite\", \"aria-busy\": (_b = styleOptions.enableAnimation) !== null && _b !== void 0 ? _b : defaultEnableAnimation }, Wrapper\n        ? elements.map((el, i) => React.createElement(Wrapper, { key: i }, el))\n        : elements));\n}\n\nexport { SkeletonTheme, Skeleton as default };\n","import { useState } from \"react\";\r\nimport {  uploadProfileIcon } from \"../../services/firebase\";\r\nimport OutsideClickHandler from \"react-outside-click-handler/build/OutsideClickHandler\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport default function UploadProfileIcon({  setActiveUploadProfileIcon, user }) {\r\n    const [fileToUpload, setFileToUpload] = useState(null);\r\n    const [uploading, setUploading] = useState(false);\r\n\r\n    console.log(user)\r\n    return (\r\n        <>\r\n            <OutsideClickHandler\r\n                onOutsideClick={() => {\r\n                    setActiveUploadProfileIcon(false);\r\n                }}\r\n            >\r\n                <form\r\n                    onSubmit={async function (e) {\r\n                        e.preventDefault();\r\n                        setUploading(true);\r\n                        await uploadProfileIcon(fileToUpload, user.docId);\r\n                        setUploading(false);\r\n                       \r\n                        setActiveUploadProfileIcon(false);\r\n                    }}\r\n                    className=\"upload-form\"\r\n                >\r\n                    <p className=\"upload_p\">Upload new icon</p>\r\n\r\n                    <div className=\"form-content-container\">\r\n                        <label\r\n                            for=\"image_uploads\"\r\n                            className=\"image-upload-label\"\r\n                        >\r\n                            Choose icon to upload (PNG, JPG)\r\n                        </label>\r\n                        <input\r\n                            onChange={(e) => setFileToUpload(e.target.files[0])}\r\n                            id=\"image_uploads\"\r\n                            accept=\"image/png, image/jpeg\"\r\n                            className=\"image-upload\"\r\n                            type=\"file\"\r\n                            required\r\n                        />\r\n\r\n                        {fileToUpload ? (\r\n                            <img\r\n                                className=\"preview-img\"\r\n                                src={URL.createObjectURL(fileToUpload)}\r\n                            />\r\n                        ) : null}\r\n\r\n                      \r\n                        {uploading ? (\r\n                            <Loader\r\n                                type=\"TailSpin\"\r\n                                color=\"#0095F6\"\r\n                                className=\"submit-post loading-circle\"\r\n                                height={40}\r\n                                width={40}\r\n                            />\r\n                        ) : (\r\n                            <input\r\n                                disabled={ !fileToUpload}\r\n                                className={`submit-post ${\r\n                                    !fileToUpload ? \"disabled\" : \"\"\r\n                                }`}\r\n                                type=\"submit\"\r\n                                value=\"Change profile icon\"\r\n                            />\r\n                        )}\r\n                    </div>\r\n                </form>{\" \"}\r\n            </OutsideClickHandler>\r\n\r\n            <div className=\"upload-shadow\"></div>\r\n\r\n            <div className=\"close-upload\">\r\n                <svg\r\n                    aria-label=\"Закрыть\"\r\n                    class=\"_8-yf5 \"\r\n                    color=\"#ffffff\"\r\n                    fill=\"#ffffff\"\r\n                    height=\"24\"\r\n                    role=\"img\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    width=\"24\"\r\n                >\r\n                    <polyline\r\n                        fill=\"none\"\r\n                        points=\"20.643 3.357 12 12 3.353 20.647\"\r\n                        stroke=\"currentColor\"\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        stroke-width=\"3\"\r\n                    ></polyline>\r\n                    <line\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        stroke-width=\"3\"\r\n                        x1=\"20.649\"\r\n                        x2=\"3.354\"\r\n                        y1=\"20.649\"\r\n                        y2=\"3.354\"\r\n                    ></line>\r\n                </svg>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../../context/user\";\r\nimport FirebaseContext from \"../../context/firebase\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport \"react-loading-skeleton/dist/skeleton.css\";\r\nimport { isUserFollowingProfile, toggleFollow } from \"../../services/firebase\";\r\nimport useUser from \"../../hooks/use-user\";\r\nimport UploadProfileIcon from \"./uploadProfileIcon\";\r\n\r\nexport default function Header({\r\n    profile,\r\n    photosCount,\r\n    followerCount,\r\n    setFollowerCount,\r\n    followingCount,\r\n}) {\r\n    const { firebase, db, auth } = useContext(FirebaseContext);\r\n    const { user } = useUser();\r\n    const { activeUsername } = useContext(UserContext);\r\n    const [isFollowingProfile, setIsFollowingProfile] = useState(false);\r\n    const [myProfile, setMyProfile] = useState(true);\r\n    const [activeUploadProfileIcon, setActiveUploadProfileIcon] =\r\n        useState(false);\r\n\r\n    const handleToggleFollow = async () => {\r\n        setIsFollowingProfile((isFollowingProfile) => !isFollowingProfile);\r\n        setFollowerCount({\r\n            followerCount: isFollowingProfile\r\n                ? followerCount - 1\r\n                : followerCount + 1,\r\n        });\r\n\r\n        // console.log(\r\n        //     isFollowingProfile,\r\n        //     user.docId,\r\n        //     profile.docId,\r\n        //     profile.userId,\r\n        //     user.userId\r\n        // );\r\n\r\n        await toggleFollow(\r\n            isFollowingProfile,\r\n            user.docId,\r\n            profile.docId,\r\n            profile.userId,\r\n            user.userId\r\n        );\r\n    };\r\n\r\n    useEffect(() => {\r\n        setMyProfile(profile.username == activeUsername);\r\n\r\n        const isLoggedUserFollowingProfile = async () => {\r\n            const isFollowing = await isUserFollowingProfile(\r\n                activeUsername,\r\n                profile.userId\r\n            );\r\n            setIsFollowingProfile(isFollowing);\r\n        };\r\n\r\n        if (activeUsername && profile.userId) {\r\n            isLoggedUserFollowingProfile();\r\n        }\r\n\r\n        return () => {};\r\n    }, [user.username, profile.userId]);\r\n\r\n    return profile ? (\r\n        <div className=\"profile-header-container\">\r\n            {profile.profileIconSrc ? (\r\n                <img\r\n                    className=\"profile-header-icon profile-profileIcon\"\r\n                    src={profile.profileIconSrc}\r\n                />\r\n            ) : (\r\n                <svg\r\n                    className=\"profile-header-icon\"\r\n                    width=\"150\"\r\n                    height=\"150\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                >\r\n                    <path\r\n                        fill-rule=\"evenodd\"\r\n                        clip-rule=\"evenodd\"\r\n                        d=\"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z\"\r\n                        fill=\"currentColor\"\r\n                    />\r\n                    <path\r\n                        fill-rule=\"evenodd\"\r\n                        clip-rule=\"evenodd\"\r\n                        d=\"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z\"\r\n                        fill=\"currentColor\"\r\n                    />\r\n                </svg>\r\n            )}\r\n            {activeUploadProfileIcon && (\r\n                <UploadProfileIcon\r\n                    setActiveUploadProfileIcon={setActiveUploadProfileIcon}\r\n                    user={user}\r\n                />\r\n            )}\r\n            <div className=\"header-info\">\r\n                <div className=\"row\">\r\n                    {profile.username ? (\r\n                        <div className=\"header-username\">\r\n                            {profile.username}\r\n                        </div>\r\n                    ) : (\r\n                        <Skeleton count={1} width={80} height={30} />\r\n                    )}\r\n\r\n                    {profile.username ? (\r\n                        !myProfile ? (\r\n                            <button\r\n                                onClick={handleToggleFollow}\r\n                                className={` ${\r\n                                    isFollowingProfile\r\n                                        ? \"profile-follow profile-unfollow\"\r\n                                        : \"profile-follow\"\r\n                                } `}\r\n                            >\r\n                                {isFollowingProfile ? \"Unfollow\" : \"Follow\"}\r\n                            </button>\r\n                        ) : (\r\n                            <button\r\n                                onClick={() =>\r\n                                    setActiveUploadProfileIcon(\r\n                                        !activeUploadProfileIcon\r\n                                    )\r\n                                }\r\n                                className=\"profile-follow\"\r\n                            >\r\n                                Change profile icon\r\n                            </button>\r\n                        )\r\n                    ) : (\r\n                        <Skeleton\r\n                            className=\"profile-skeleton\"\r\n                            count={1}\r\n                            width={90}\r\n                            height={30}\r\n                        />\r\n                    )}\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"header-photos\">\r\n                        {photosCount} {photosCount == 1 ? \"post\" : \"posts\"}\r\n                    </div>\r\n                    <div className=\"header-folowers info\">\r\n                        {followerCount}{\" \"}\r\n                        {followerCount == 1 ? \"follower\" : \"followers\"}\r\n                    </div>\r\n                    <div className=\"header-following info\">\r\n                        {followingCount}{\" \"}\r\n                        {followingCount == 1 ? \"following\" : \"followings\"}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"profile-header-fullname\">\r\n                    {profile.fullName ? (\r\n                        profile.fullName\r\n                    ) : (\r\n                        <Skeleton count={1} width={100} />\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) : (\r\n        <Skeleton count={1} width={635} height={120} />\r\n    );\r\n}\r\n","import Skeleton from \"react-loading-skeleton\";\r\nimport \"react-loading-skeleton/dist/skeleton.css\";\r\n\r\nexport default function Photos({ photos }) {\r\n    return (\r\n        <div className=\"profile-photos-container\">\r\n            {!photos ? (\r\n                <Skeleton count={1} width={935} height={400} />\r\n            ) : photos.length > 0 ? (\r\n                photos.map((photo) => (\r\n                    <div key={photo.docId} className=\"profile-photo-container\">\r\n                        <img src={photo.imageSrc} className=\"profile-post-img\" />\r\n                        <p className=\"profile-photo-detail\">\r\n                            <svg\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                fill=\"none\"\r\n                                viewBox=\"0 0 24 24\"\r\n                                className=\"profile-actions\"\r\n                                width=\"24\"\r\n                                height=\"24\"\r\n                                stroke=\"currentColor\"\r\n                                tabIndex={0}\r\n                            >\r\n                                <path\r\n                                    strokeLinecap=\"round\"\r\n                                    strokeLinejoin=\"round\"\r\n                                    strokeWidth={2}\r\n                                    d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n                                />\r\n                            </svg>\r\n                            {photo.likes.length}\r\n                            <svg\r\n                                aria-label=\"\"\r\n                                className=\"profile-actions\"\r\n                                role=\"img\"\r\n                                viewBox=\"0 0 24 24\"\r\n                                width=\"24\"\r\n                                height=\"24\"\r\n                            >\r\n                                <path\r\n                                    d=\"M20.656 17.008a9.993 9.993 0 10-3.59 3.615L22 22z\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    stroke-linejoin=\"round\"\r\n                                    stroke-width=\"2\"\r\n                                ></path>\r\n                            </svg>\r\n                            {photo.comments.length}\r\n                        </p>\r\n                    </div>\r\n                ))\r\n            ) : (\r\n                <div className=\"no-photos\">No posts yet</div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import Header from \"./header\";\r\nimport { useState, useEffect, useReducer } from \"react\";\r\nimport { collection } from \"firebase/firestore\";\r\nimport {\r\n    getUserByUsername,\r\n    getUserPhotosByUsername,\r\n} from \"../../services/firebase\";\r\nimport Photos from \"./photos\";\r\n\r\nexport default function UserProfile({ user }) {\r\n    const reducer = (state, newState) => ({ ...state, ...newState });\r\n    const initialState = {\r\n        profile: {},\r\n        photosCollection: [],\r\n        followerCount: 0,\r\n        followingCount: 0,\r\n    };\r\n\r\n    const [\r\n        { profile, photosCollection, followerCount, followingCount },\r\n        dispatch,\r\n    ] = useReducer(reducer, initialState);\r\n\r\n    useEffect(() => {\r\n        async function getProfileInfoAndPhotos() {\r\n            //const getuser = await getUserByUsername(user.username);\r\n            const photos = await getUserPhotosByUsername(user.username);\r\n            // console.log(getuser);\r\n            //console.log(\"photo\", photos);\r\n            dispatch({\r\n                profile: user,\r\n                photosCollection: photos,\r\n                followerCount: user.followers.length,\r\n                followingCount: user.following.length,\r\n            });\r\n        }\r\n\r\n        getProfileInfoAndPhotos();\r\n\r\n        return () => {};\r\n    }, [user]);\r\n\r\n    //console.log(profile,photosCollection.length);\r\n\r\n    return (\r\n        <div className=\"profile-content-container\">\r\n            <Header\r\n                profile={profile}\r\n                photosCount={photosCollection.length}\r\n                followerCount={followerCount}\r\n                setFollowerCount={dispatch}\r\n                followingCount={followingCount}\r\n            />\r\n            <Photos photos={photosCollection} />\r\n        </div>\r\n    );\r\n}\r\n","import { useParams, useNavigate } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getUserByUsername } from \"../services/firebase\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport NavBar from \"../components/NavBar\";\r\nimport UserProfile from \"../components/profile/userprofile\";\r\nimport '../styles/profile.css'\r\n\r\nexport default function Profile({ setInHome, setInProfile, inProfile }) {\r\n    const navigate = useNavigate();\r\n    const { username } = useParams();\r\n    \r\n    // console.log(username);\r\n    const [userExists, setUserExists] = useState(false);\r\n    const [user, setUser] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setInProfile(true);\r\n        setInHome(false);\r\n        return () => {\r\n             setInProfile(false);\r\n             setInHome(false);\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        async function checkUserExist() {\r\n            const getUser = await getUserByUsername(username);\r\n\r\n            if (getUser) {\r\n                setUser(getUser);\r\n                document.title =`${getUser.fullName}(@${getUser.username})` ;\r\n                setUserExists(true);\r\n            } else {\r\n                setUserExists(false);\r\n                navigate(ROUTES.NOT_FOUND);\r\n            }\r\n        }\r\n\r\n        checkUserExist();\r\n        \r\n    }, [username, navigate]);\r\n\r\n    return userExists ? (\r\n        <div className=\"profile-container\">\r\n            <NavBar inProfile={inProfile} />\r\n            <UserProfile  user={user}/>\r\n        </div>\r\n    ) : null;\r\n}\r\n"],"sourceRoot":""}