{"version":3,"sources":["hooks/use-user.js","components/sidebar/user.js","components/sidebar/SuggestedProfile.js","components/sidebar/suggestions.js","components/sidebar/Sidebar.js","components/post/actions.js","components/post/add-coment.js","components/post/comments.js","components/post/footer.js","components/post/header.js","components/post/image.js","components/post/post.js","components/Timeline.js","hooks/use-photos.js","pages/dashboard.js"],"names":["useUser","useState","activeUser","setActiveUser","user","useContext","UserContext","auth","FirebaseContext","useEffect","a","getUserByUserId","uid","response","getUserObjByUserId","username","fullName","userId","User","to","className","width","height","viewBox","fill","d","count","SuggestedProfile","spDocId","profileId","loggedUserDocId","followed","setFollowed","updateLoggedUserFollowing","updateFollowedUserFollowers","id","onClick","Suggestions","following","docId","profiles","setProfiles","getSuggestedProfiles","suggestedProfiles","length","map","profile","SideBar","Actions","totalLikes","likedPhoto","handleFocus","toggleLiked","setToggleLiked","likes","setLikes","db","handleToggleLiked","LikedPhotoRef","doc","updateDoc","arrayRemove","arrayUnion","xmlns","stroke","tabIndex","strokeLinecap","strokeLinejoin","strokeWidth","class","color","role","AddComment","comments","setComments","commentInput","comment","setComment","activeUsername","handleSubmitComment","event","preventDefault","commentValue","displayName","addComment","onSubmit","autoComplete","type","value","onChange","target","placeholder","ref","disabled","Comments","allComments","posted","slice","item","formatDistance","Date","Footer","caption","Header","Image","src","Post","content","useRef","imageSrc","userLikedPhoto","current","focus","dateCreated","Timeline","photos","setPhotos","followedUserPhotos","getPhotos","sort","b","getTimelinePhotos","usePhotos","Dashboard","inHome","setInHome","setInProfile","document","title","NavBar"],"mappings":"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","file":"static/js/3.c0f49fe8.chunk.js","sourcesContent":["import { useEffect, useState, useContext } from \"react\";\r\nimport FirebaseContext from \"../context/firebase\";\r\nimport UserContext from \"../context/user\";\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport { getUserByUserId } from \"../services/firebase\";\r\n\r\n\r\nexport default function useUser() {\r\n    const [activeUser, setActiveUser] = useState({});\r\n    const { user } = useContext(UserContext);\r\n    const {auth} = useContext(FirebaseContext);\r\n\r\n    useEffect(() => {\r\n        async function getUserObjByUserId() {\r\n            const response = await getUserByUserId(user.uid);\r\n\r\n            setActiveUser(response);\r\n        }\r\n\r\n        if (user?.uid) {\r\n            getUserObjByUserId();\r\n        }\r\n        else{\r\n            setActiveUser({username:'You dont log in',fullName:'', userId:'',})\r\n        }\r\n\r\n        return () => {};\r\n    }, [user,auth])\r\n\r\n    return { user: activeUser };\r\n}\r\n","import { Link } from \"react-router-dom\"\r\n\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport \"react-loading-skeleton/dist/skeleton.css\";\r\n\r\nfunction User({username,fullName}){\r\n   return !username || !fullName ? (\r\n       <Skeleton count={1} height={70} width={170}/>\r\n   ) : (\r\n       <Link to={`/p/${username}`} className=\"user-container\">\r\n           <svg\r\n               className=\"userIcon profile\"\r\n               width=\"24\"\r\n               height=\"24\"\r\n               viewBox=\"0 0 24 24\"\r\n               fill=\"none\"\r\n           >\r\n               <path\r\n                   fill-rule=\"evenodd\"\r\n                   clip-rule=\"evenodd\"\r\n                   d=\"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z\"\r\n                   fill=\"currentColor\"\r\n               />\r\n               <path\r\n                   fill-rule=\"evenodd\"\r\n                   clip-rule=\"evenodd\"\r\n                   d=\"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z\"\r\n                   fill=\"currentColor\"\r\n               />\r\n           </svg>\r\n           <span className=\"user-name\">{username}\r\n           <p>{fullName}</p>\r\n           </span>\r\n       </Link>\r\n   );\r\n}\r\n\r\nexport default User ;","import { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n    updateLoggedUserFollowing,\r\n    updateFollowedUserFollowers,\r\n} from \"../../services/firebase\";\r\n\r\nexport default function SuggestedProfile({\r\n    spDocId,\r\n    username,\r\n    profileId,\r\n    userId,\r\n    loggedUserDocId,\r\n}) {\r\n    const [followed, setFollowed] = useState(false);\r\n\r\n    async function handleFollowUser() {\r\n        setFollowed(true);\r\n        //console.log(loggedUserDocId);\r\n        await updateLoggedUserFollowing(loggedUserDocId, profileId, followed);\r\n\r\n        await updateFollowedUserFollowers(spDocId, userId, followed);\r\n    }\r\n\r\n    async function handleUnfollowUser() {\r\n        setFollowed(false);\r\n\r\n        await updateLoggedUserFollowing(loggedUserDocId, profileId, followed);\r\n\r\n        await updateFollowedUserFollowers(spDocId, userId, followed);\r\n    }\r\n\r\n    return (\r\n        <div className=\"suggestion-profile\">\r\n            <Link to={`/p/${username}`}>\r\n                <svg\r\n                    className=\"suggestion-icon\"\r\n                    width=\"32\"\r\n                    height=\"32\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                >\r\n                    <path\r\n                        fill-rule=\"evenodd\"\r\n                        clip-rule=\"evenodd\"\r\n                        d=\"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z\"\r\n                        fill=\"currentColor\"\r\n                    />\r\n                    <path\r\n                        fill-rule=\"evenodd\"\r\n                        clip-rule=\"evenodd\"\r\n                        d=\"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z\"\r\n                        fill=\"currentColor\"\r\n                    />\r\n                </svg>\r\n            </Link>\r\n            <Link to={`/p/${username}`}>\r\n                <span id=\"fuck\" className=\"suggestion-name \">\r\n                    {username}\r\n                </span>\r\n            </Link>\r\n\r\n            {followed ? (\r\n                <button\r\n                    className=\"subscribe unfollow\"\r\n                    onClick={handleUnfollowUser}\r\n                >\r\n                    Unfollow\r\n                </button>\r\n            ) : (\r\n                <button className=\"subscribe\" onClick={handleFollowUser}>\r\n                    Follow\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import { useState, useEffect, useContext } from \"react\";\r\n//import { collection, getDocs } from \"firebase/firestore\";\r\n//import FirebaseContext from \"../../context/firebase\";\r\nimport { getSuggestedProfiles } from \"../../services/firebase\";\r\nimport SuggestedProfile from \"./SuggestedProfile\";\r\n\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport \"react-loading-skeleton/dist/skeleton.css\";\r\n\r\nexport default function Suggestions({ userId, following ,docId}) {\r\n    const [profiles, setProfiles] = useState(null);\r\n    // const {db} = useContext(FirebaseContext);\r\n\r\n    useEffect(() => {\r\n        async function suggestedProfiles() {\r\n            const response = await getSuggestedProfiles(userId, following);\r\n            setProfiles(response);\r\n        }\r\n\r\n        if (userId) {\r\n            suggestedProfiles();\r\n        }\r\n\r\n        //console.log(profiles);\r\n        return () => {};\r\n    }, [userId]);\r\n\r\n\r\n    return !profiles ? (\r\n        <p>\r\n            {\" \"}\r\n            <div className=\"suggestions-title\">Suggestions for you</div>\r\n            <Skeleton count={5} width={170} height={50} />\r\n        </p>\r\n    ) : profiles.length > 0 ? (\r\n        <div className=\"suggestions-container\">\r\n            <div className=\"suggestions-title\">Suggestions for you</div>\r\n            <div className=\"suggestions-list\">\r\n                {profiles.map((profile) => (\r\n                    <SuggestedProfile\r\n                        key={profile.docId}\r\n                        spDocId={profile.docId}\r\n                        username={profile.username}\r\n                        profileId={profile.userId}\r\n                        userId={userId}\r\n                        loggedUserDocId={docId}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    ) : null;\r\n}\r\n","import \"../../styles/sidebar.css\";\r\nimport useUser from \"../../hooks/use-user\";\r\nimport User from \"./user\";\r\nimport Suggestions from \"./suggestions\";\r\n\r\nexport default function SideBar() {\r\n    const { user } = useUser();\r\n    //console.log(user);\r\n    return (\r\n        <div className=\"sidebar-container\">\r\n            <User  username={user.username} fullName={user.fullName}/>\r\n            <Suggestions userId={user.userId} following={user.following} docId={user.docId}/>\r\n        </div>\r\n    );\r\n}\r\n","import { useContext, useState } from \"react\";\r\nimport FirebaseContext from \"../../context/firebase\";\r\nimport UserContext from \"../../context/user\";\r\nimport { doc, updateDoc, arrayUnion, arrayRemove } from \"firebase/firestore\";\r\n\r\nexport default function Actions({\r\n    docId,\r\n    totalLikes,\r\n    likedPhoto,\r\n    handleFocus,\r\n}) {\r\n    const { user } = useContext(UserContext);\r\n    const [toggleLiked, setToggleLiked] = useState(likedPhoto);\r\n    const [likes, setLikes] = useState(totalLikes);\r\n\r\n    const { db } = useContext(FirebaseContext);\r\n\r\n    const handleToggleLiked = async () => {\r\n        setToggleLiked((toggleLiked) => !toggleLiked);\r\n\r\n        const LikedPhotoRef = doc(db, \"photos\", docId);\r\n\r\n        setLikes((likes) => (toggleLiked ? likes - 1 : likes + 1));\r\n\r\n        toggleLiked\r\n            ? await updateDoc(LikedPhotoRef, {\r\n                  likes: arrayRemove(user.uid),\r\n              })\r\n            : await updateDoc(LikedPhotoRef, {\r\n                  likes: arrayUnion(user.uid),\r\n              });\r\n    };\r\n\r\n    return (\r\n        <div className=\"actions-container\">\r\n            <svg\r\n                onClick={handleToggleLiked}\r\n                // onKeyDown={(event) => {\r\n                //     if (event.key === \"Enter\") {\r\n                //         handleToggleLiked();\r\n                //     }\r\n                // }}\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke=\"currentColor\"\r\n                tabIndex={0}\r\n                className={` Like action ${toggleLiked ? \"activeLike\" : \"\"}`}\r\n            >\r\n                <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n                />\r\n            </svg>\r\n\r\n            <svg\r\n                aria-label=\"\"\r\n                onClick={handleFocus}\r\n                class=\"action \"\r\n                color=\"#262626\"\r\n                fill=\"#262626\"\r\n                height=\"24\"\r\n                role=\"img\"\r\n                viewBox=\"0 0 24 24\"\r\n                width=\"24\"\r\n            >\r\n                <path\r\n                    d=\"M20.656 17.008a9.993 9.993 0 10-3.59 3.615L22 22z\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    stroke-linejoin=\"round\"\r\n                    stroke-width=\"2\"\r\n                ></path>\r\n            </svg>\r\n            <div className=\"count-likes\">\r\n                <p>{likes === 1 ? `${likes} like` : `${likes} likes`}</p>\r\n            </div>\r\n           \r\n        </div>\r\n    );\r\n}\r\n","import { useState, useContext } from \"react\";\r\nimport FirebaseContext from \"../../context/firebase\";\r\nimport UserContext from \"../../context/user\";\r\nimport { addComment, getUserByUserId } from \"../../services/firebase\";\r\n\r\nexport default function AddComment({\r\n    docId,\r\n    comments,\r\n    setComments,\r\n    commentInput,\r\n}) {\r\n    const [comment, setComment] = useState(\"\");\r\n    const { db } = useContext(FirebaseContext);\r\n    const { user, activeUsername } = useContext(UserContext);\r\n\r\n    const handleSubmitComment = async (event) => {\r\n        event.preventDefault();\r\n        let commentValue = comment;\r\n        setComment(\"\");\r\n        setComments([...comments, { displayName: activeUsername, comment }]);\r\n\r\n        await addComment(docId, commentValue, activeUsername);\r\n\r\n        return;\r\n    };\r\n\r\n    return (\r\n        <div className=\"comment-container\">\r\n            <form\r\n                onSubmit={(event) => {\r\n                    comment.length >= 1\r\n                        ? handleSubmitComment(event)\r\n                        : event.preventDefault();\r\n                }}\r\n                className=\"comment-form\"\r\n            >\r\n                <input\r\n                    autoComplete=\"off\"\r\n                    type=\"text\"\r\n                    value={comment}\r\n                    onChange={({ target }) => {\r\n                        setComment(target.value);\r\n                    }}\r\n                    className=\"comment-input\"\r\n                    placeholder=\"Add a comment...\"\r\n                    ref={commentInput}\r\n                />\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={!comment}\r\n                    className={`comment-button ${!comment ? \"opacity-25\" : \"\"}`}\r\n                >\r\n                    Send\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","import { formatDistance } from \"date-fns\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\n//import { formatDistance } from \"date-fns\";\r\nimport { Link } from \"react-router-dom\";\r\nimport UserContext from \"../../context/user\";\r\nimport AddComment from \"./add-coment\";\r\n\r\nexport default function Comments({ docId, allComments, posted, commentInput }) {\r\n    const [comments, setComments] = useState(allComments);\r\n\r\n    const { user, activeUsername } = useContext(UserContext);\r\n\r\n    //console.log(activeUsername);\r\n\r\n    return (\r\n        <div>\r\n            {comments.length > 3 && (\r\n                <p className=\"view-all-comments\">\r\n                    View all  comments\r\n                </p>\r\n            )}\r\n            {comments\r\n                .slice(\r\n                    comments.length < 3 ? 0 : comments.length - 3,\r\n                    comments.length\r\n                )\r\n                .map((item) => (\r\n                    <p>\r\n                        <Link\r\n                            className=\"user-comment-link\"\r\n                            to={`/p/${item.displayName}`}\r\n                        >\r\n                            {item.displayName}\r\n                        </Link>\r\n                        <span className=\"user-comment\">{item.comment}</span>\r\n                    </p>\r\n                ))}\r\n            <p className=\"time-posted\">\r\n                {formatDistance(posted, new Date())} ago\r\n            </p>\r\n            <AddComment\r\n                docId={docId}\r\n                comments={comments}\r\n                setComments={setComments}\r\n                commentInput={commentInput}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","import { Link } from \"react-router-dom\"\r\n\r\nexport default function Footer({caption,username}) {\r\n    return (\r\n        <div className=\"footer-container\">\r\n            {/* <span className=\"footer-user\">\r\n                <Link to={`/p/${username}`}>{username}</Link>\r\n            </span> */}\r\n            <span className=\"footer-caption\">{caption}</span>\r\n        </div>\r\n    );\r\n}","import { Link } from \"react-router-dom\";\r\n\r\nexport default function Header({ username }) {\r\n    return (\r\n        <div className=\"header-container\">\r\n            <Link to={`/p/${username}`} className=\"header-link\">\r\n                <svg\r\n                    className=\"header-icon\"\r\n                    width=\"32\"\r\n                    height=\"32\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                >\r\n                    <path\r\n                        fill-rule=\"evenodd\"\r\n                        clip-rule=\"evenodd\"\r\n                        d=\"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z\"\r\n                        fill=\"currentColor\"\r\n                    />\r\n                    <path\r\n                        fill-rule=\"evenodd\"\r\n                        clip-rule=\"evenodd\"\r\n                        d=\"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z\"\r\n                        fill=\"currentColor\"\r\n                    />\r\n                </svg>\r\n                {username}\r\n            </Link>\r\n        </div>\r\n    );\r\n}\r\n","export default function Image({src}) {\r\n    return <img  className=\"post-img\" src={src}/>\r\n}","import { useRef } from \"react\";\r\nimport Actions from \"./actions\";\r\nimport Comments from \"./comments\";\r\nimport Footer from \"./footer\";\r\nimport Header from \"./header\";\r\nimport Image from \"./image\";\r\n\r\nexport default function Post({ content }) {\r\n    const commentInput = useRef(null);\r\n\r\n    const handleFocus = () => commentInput.current.focus();\r\n\r\n    return (\r\n        <div className=\"post-container\">\r\n            <Header username={content.username} />\r\n            <Image src={content.imageSrc} />\r\n            <Actions\r\n                docId={content.docId}\r\n                totalLikes={content.likes.length}\r\n                likedPhoto={content.userLikedPhoto}\r\n                handleFocus={handleFocus}\r\n            />\r\n            <Footer username={content.username} caption={content.caption} />\r\n            <Comments\r\n                docId={content.docId}\r\n                allComments={content.comments}\r\n                posted={content.dateCreated}\r\n                commentInput={commentInput}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","import \"../styles/timeline.css\";\r\nimport usePhotos from \"../hooks/use-photos\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport \"react-loading-skeleton/dist/skeleton.css\";\r\nimport Post from \"./post/post\";\r\n\r\nexport default function Timeline() {\r\n    const { photos } = usePhotos();\r\n\r\n    //console.log(photos);\r\n\r\n    return (\r\n        <div className=\"timeline-container\">\r\n            {!photos ? (\r\n                <>  \r\n                <Skeleton count={4} width={500} height={600}/>\r\n                </>\r\n            ) : photos?.length > 0 ? (\r\n                photos.map((content) => <Post key={content.docId} content={content}/>)\r\n            ) : (<p>Follow people to see photos</p>)}\r\n        </div>\r\n    );\r\n}\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../context/user\";\r\nimport { getUserByUserId, getPhotos } from \"../services/firebase\";\r\n\r\nexport default function usePhotos() {\r\n    const [photos, setPhotos] = useState(null);\r\n    const { user } = useContext(UserContext);\r\n\r\n    useEffect(() => {\r\n        async function getTimelinePhotos() {\r\n            const { following } = await getUserByUserId(user.uid);\r\n\r\n            let followedUserPhotos = [];\r\n\r\n            if (following.length > 0) {\r\n                followedUserPhotos = await getPhotos(user.uid, following);\r\n\r\n                followedUserPhotos.sort(\r\n                    (a, b) => b.dateCreated - a.dateCreated\r\n                );\r\n\r\n                setPhotos(followedUserPhotos);\r\n                // console.log(followedUserPhotos);\r\n            } else {\r\n                setPhotos([]);\r\n            }\r\n        }\r\n\r\n        if (user?.uid) {\r\n            getTimelinePhotos();\r\n        }\r\n    }, [user?.uid]);\r\n\r\n    return { photos };\r\n}\r\n","import { useEffect } from \"react\";\r\nimport NavBar from \"../components/NavBar\";\r\nimport '../styles/dashboard.css';\r\nimport SideBar from \"../components/sidebar/Sidebar\";\r\nimport Timeline from \"../components/Timeline\";\r\n\r\nexport default function Dashboard({inHome,setInHome,setInProfile}) {\r\n\r\n    useEffect(() => {\r\n        document.title = \"Instagram\";\r\n        setInHome(true);\r\n        setInProfile(false);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"main-container\">\r\n            <NavBar inHome={inHome}/>\r\n            <div className=\"main-content\">\r\n                \r\n                <Timeline />\r\n                <SideBar />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n"],"sourceRoot":""}