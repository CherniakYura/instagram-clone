(this["webpackJsonpinstagram-clone"]=this["webpackJsonpinstagram-clone"]||[]).push([[4],{102:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var o=n(0),r=n.n(o),c=n(2),a=n(12),s=n(13),i=n(9),l=n(32),u=n(22),f=n(54),d=n(15),j=n(33),h=n(28),p=n(86),b=(n(85),n(90)),O=n(10);function m(e){var t=e.profile,n=e.photosCount,o=e.followerCount,s=e.setFollowerCount,u=e.followingCount,f=Object(i.useContext)(h.a),d=(f.firebase,f.db,f.auth,Object(b.a)().user),m=Object(i.useContext)(j.a).activeUsername,w=Object(i.useState)(!1),v=Object(a.a)(w,2),C=v[0],x=v[1],g=Object(i.useState)(!0),N=Object(a.a)(g,2),y=N[0],k=N[1],I=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x((function(e){return!e})),s({followerCount:C?o-1:o+1}),e.next=4,Object(l.j)(C,d.docId,t.docId,t.userId,d.userId);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){k(t.username==m);var e=function(){var e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.i)(m,t.userId);case 2:n=e.sent,x(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m&&t.userId&&e(),function(){}}),[d.username,t.userId]),t?Object(O.jsxs)("div",{className:"profile-header-container",children:[Object(O.jsxs)("svg",{className:"profile-header-icon",width:"150",height:"150",viewBox:"0 0 24 24",fill:"none",children:[Object(O.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"}),Object(O.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"})]}),Object(O.jsxs)("div",{className:"header-info",children:[Object(O.jsxs)("div",{className:"row",children:[t.username?Object(O.jsx)("div",{className:"header-username",children:t.username}):Object(O.jsx)(p.a,{count:1,width:80,height:30}),t.username?y?null:Object(O.jsx)("button",{onClick:I,className:" ".concat(C?"profile-follow profile-unfollow":"profile-follow"," "),children:C?"Unfollow":"Follow"}):Object(O.jsx)(p.a,{className:"profile-skeleton",count:1,width:90,height:30})]}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"header-photos",children:[n," ",1==n?"post":"posts"]}),Object(O.jsxs)("div",{className:"header-folowers info",children:[o," ",1==o?"follower":"followers"]}),Object(O.jsxs)("div",{className:"header-following info",children:[u," ",1==u?"following":"followings"]})]}),Object(O.jsx)("div",{className:"profile-header-fullname",children:t.fullName?t.fullName:Object(O.jsx)(p.a,{count:1,width:100})})]})]}):Object(O.jsx)(p.a,{count:1,width:635,height:120})}n(11);function w(e){var t=e.photos;return Object(O.jsx)("div",{className:"profile-photos-container",children:t?t.length>0?t.map((function(e){return Object(O.jsxs)("div",{className:"profile-photo-container",children:[Object(O.jsx)("img",{src:e.imageSrc}),Object(O.jsxs)("p",{className:"profile-photo-detail",children:[Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"profile-actions",width:"24",height:"24",stroke:"currentColor",tabIndex:0,children:Object(O.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),e.likes.length,Object(O.jsx)("svg",{"aria-label":"",className:"profile-actions",role:"img",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(O.jsx)("path",{d:"M20.656 17.008a9.993 9.993 0 10-3.59 3.615L22 22z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2"})}),e.comments.length]})]},e.docId)})):Object(O.jsx)("div",{className:"no-photos",children:"No posts yet"}):Object(O.jsx)(p.a,{count:1,width:935,height:400})})}function v(e){var t=e.user,n=Object(i.useReducer)((function(e,t){return Object(d.a)(Object(d.a)({},e),t)}),{profile:{},photosCollection:[],followerCount:0,followingCount:0}),o=Object(a.a)(n,2),s=o[0],u=s.profile,f=s.photosCollection,j=s.followerCount,h=s.followingCount,p=o[1];return Object(i.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.h)(t.username);case 2:n=e.sent,p({profile:t,photosCollection:n,followerCount:t.followers.length,followingCount:t.following.length});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){}}),[t]),Object(O.jsxs)("div",{className:"profile-content-container",children:[Object(O.jsx)(m,{profile:u,photosCount:f.length,followerCount:j,setFollowerCount:p,followingCount:h}),Object(O.jsx)(w,{photos:f})]})}n(95);function C(e){var t=e.setInHome,n=e.setInProfile,o=e.inProfile,d=Object(s.h)(),j=Object(s.i)().username,h=Object(i.useState)(!1),p=Object(a.a)(h,2),b=p[0],m=p[1],w=Object(i.useState)(null),C=Object(a.a)(w,2),x=C[0],g=C[1];return Object(i.useEffect)((function(){return n(!0),t(!1),function(){}}),[]),Object(i.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.g)(j);case 2:(t=e.sent)?(g(t),document.title="".concat(t.fullName,"(@").concat(t.username,")"),m(!0)):(m(!1),d(u.c));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[j,d]),b?Object(O.jsxs)("div",{className:"profile-container",children:[Object(O.jsx)(f.a,{inProfile:o}),Object(O.jsx)(v,{user:x})]}):null}},85:function(e,t,n){},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(15),r=n(41),c=n(9),a=["count","wrapper","className","containerClassName","containerTestId","circle","style"],s=c.createContext({});function i(e){var t,n,i=e.count,l=void 0===i?1:i,u=e.wrapper,f=e.className,d=e.containerClassName,j=e.containerTestId,h=e.circle,p=void 0!==h&&h,b=e.style,O=Object(r.a)(e,a),m=c.useContext(s),w=Object(o.a)(Object(o.a)(Object(o.a)({},m),O),{},{circle:p}),v=Object(o.a)(Object(o.a)({},b),function(e){var t=e.baseColor,n=e.highlightColor,o=e.width,r=e.height,c=e.borderRadius,a=e.circle,s=e.direction,i=e.duration,l=e.enableAnimation,u=void 0===l||l,f={};return"rtl"===s&&(f["--animation-direction"]="reverse"),"number"===typeof i&&(f["--animation-duration"]="".concat(i,"s")),u||(f["--pseudo-element-display"]="none"),"string"!==typeof o&&"number"!==typeof o||(f.width=o),"string"!==typeof r&&"number"!==typeof r||(f.height=r),"string"!==typeof c&&"number"!==typeof c||(f.borderRadius=c),a&&(f.borderRadius="50%"),"undefined"!==typeof t&&(f["--base-color"]=t),"undefined"!==typeof n&&(f["--highlight-color"]=n),f}(w)),C="react-loading-skeleton";f&&(C+=" ".concat(f));for(var x=null!==(t=w.inline)&&void 0!==t&&t,g=[],N=0;N<l;N++){var y=c.createElement("span",{className:C,style:v,key:N},"\u200c");x?g.push(y):g.push(c.createElement(c.Fragment,{key:N},y,c.createElement("br",null)))}return c.createElement("span",{className:d,"data-testid":j,"aria-live":"polite","aria-busy":null===(n=w.enableAnimation)||void 0===n||n},u?g.map((function(e,t){return c.createElement(u,{key:t},e)})):g)}},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var o=n(0),r=n.n(o),c=n(2),a=n(12),s=n(9),i=n(28),l=n(33),u=(n(26),n(32));function f(){var e=Object(s.useState)({}),t=Object(a.a)(e,2),n=t[0],o=t[1],f=Object(s.useContext)(l.a).user,d=Object(s.useContext)(i.a).auth;return Object(s.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.f)(f.uid);case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(null===f||void 0===f?void 0:f.uid)?function(){e.apply(this,arguments)}():o({username:"You dont log in",fullName:"",userId:""}),function(){}}),[f,d]),{user:n}}},95:function(e,t,n){}}]);
//# sourceMappingURL=4.1b23bc80.chunk.js.map